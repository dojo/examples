/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonprealworld_app=window.dojoWebpackJsonprealworld_app||[]).push([["main"],[,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(18),s=r(19),i=r(28),o=r(32);const a=Object(n.a)({cache:o.a,injector:i.a,diffProperty:n.c,invalidator:n.e}).properties()(function({middleware:{cache:e,injector:t,diffProperty:r,invalidator:n},properties:s}){const{renderer:i,id:o,routerKey:a="router"}=s();if(!e.get("handle")){const r=t.subscribe(a);r&&e.set("handle",r)}r("routerKey",(r,s)=>{const{routerKey:i="router"}=r,{routerKey:o="router"}=s;if(o!==i){const r=e.get("handle");r&&r();const n=t.subscribe(o);n&&e.set("handle",n)}n()});const c=t.get(a);if(c){const e=c.getOutlet(o);if(e){const{queryParams:t,params:r,type:n,isError:s,isExact:o}=e,a=i({queryParams:t,params:r,type:n,isError:s,isExact:o,router:c});if(a)return a}}return null});var c=r(38);var d=Object(n.a)({store:s.a}).properties()(function({middleware:{store:e}}){const{get:t,path:r}=e,s=!!t(r("session","token")),i=t(r("session","username"));return Object(n.g)("nav",{classes:["navbar","navbar-light"]},Object(n.g)("div",{classes:["container"]},Object(n.g)("a",{classes:["navbar-brand"]},"conduit"),Object(n.g)("ul",{classes:["nav","navbar-nav pull-xs-right"]},Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"home"},"Home")),s&&Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"new-post"},"New Post",Object(n.g)("i",{classes:["ion-compose"]}))),s&&Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"settings"},"Settings",Object(n.g)("i",{classes:["ion-gear"]}))),s&&Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"user",params:{username:i}},i,Object(n.g)("i",{classes:["ion-gear"]}))),!s&&Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"login"},"Login")),!s&&Object(n.g)("li",{classes:["nav-item"]},Object(n.g)(c.b,{classes:["nav-link"],activeClasses:["active"],to:"register"},"Register")))))}),l=r(54);var u=Object(n.a)()(function(){return Object(n.g)("footer",null,Object(n.g)("div",{classes:["container"]},Object(n.g)("a",{href:"/",classes:["logo-font"]},"conduit"),Object(n.g)("span",{classes:["attribution"]},"An interactive learning project from ",Object(n.g)("a",{href:"https://thinkster.io"},"Thinkster")," Code & design licensed under MIT.")))}),p={type:"registry"},g={Login:()=>Promise.all([r.e("main"),r.e("src/widgets/Login")]).then(r.bind(null,55)),Register:()=>Promise.all([r.e("main"),r.e("src/widgets/Register")]).then(r.bind(null,56)),Profile:()=>Promise.all([r.e("main"),r.e("src/widgets/Profile")]).then(r.bind(null,59)),Editor:()=>Promise.resolve().then(r.bind(null,54)),Article:()=>r.e("src/widgets/Article").then(r.bind(null,57)),Settings:()=>r.e("src/widgets/Settings").then(r.bind(null,60)),Home:()=>Promise.all([r.e("main"),r.e("src/widgets/Home")]).then(r.bind(null,58))};const f=Object(n.a)()(function(){return Object(n.g)("div",null,Object(n.g)(d,null),Object(n.g)(a,{id:"login",renderer:()=>Object(n.g)(p,{__autoRegistryItem:{label:"__autoRegistryItem_Login",registryItem:g.Login}})}),Object(n.g)(a,{id:"register",renderer:()=>Object(n.g)(p,{__autoRegistryItem:{label:"__autoRegistryItem_Register",registryItem:g.Register}})}),Object(n.g)(a,{id:"user",renderer:e=>{if(e.isExact())return Object(n.g)(p,{type:"user",username:e.params.username,__autoRegistryItem:{label:"__autoRegistryItem_Profile",registryItem:g.Profile}})}}),Object(n.g)(a,{id:"favorites",renderer:e=>Object(n.g)(p,{type:"favorites",username:e.params.username,__autoRegistryItem:{label:"__autoRegistryItem_Profile",registryItem:g.Profile}})}),Object(n.g)(a,{id:"edit-post",renderer:e=>Object(n.g)(l.default,{slug:e.params.slug})}),Object(n.g)(a,{id:"new-post",renderer:e=>{if(e.isExact())return Object(n.g)(p,{__autoRegistryItem:{label:"__autoRegistryItem_Editor",registryItem:g.Editor}})}}),Object(n.g)(a,{id:"article",renderer:e=>Object(n.g)(p,{slug:e.params.slug,__autoRegistryItem:{label:"__autoRegistryItem_Article",registryItem:g.Article}})}),Object(n.g)(a,{id:"settings",renderer:()=>Object(n.g)(p,{__autoRegistryItem:{label:"__autoRegistryItem_Settings",registryItem:g.Settings}})}),Object(n.g)(a,{id:"home",renderer:()=>Object(n.g)(p,{__autoRegistryItem:{label:"__autoRegistryItem_Home",registryItem:g.Home}})}),Object(n.g)(u,null))});Object(n.f)(()=>Object(n.g)(f,null)).mount({domNode:document.getElementById("app"),registry:s.b})},function(e,t,r){"use strict";var n=r(0);r(1);var s=n.default.WeakMap,i=r(37),o=r(26),a=r(27);function c(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function d(e,t){return{changed:e!==t,value:t}}function l(e,t){let r;return r="function"==typeof t?t._type===a.b?d(e,t):function(e,t){return{changed:!1,value:t}}(0,t):c(t)?function e(t,r,n=0){let s=!1;const i=t&&c(t),o=r&&c(r);if(!i||!o)return{changed:!0,value:r};const a=Object.keys(t),d=Object.keys(r);return{changed:s=a.length!==d.length||d.some(s=>n>0?e(r[s],t[s],n-1).changed:r[s]!==t[s]),value:r}}(e,t):d(e,t)}var u=r(30);var p=class extends u.a{constructor(){super(),this._registry=new a.a,this._registryWidgetLabelMap=new o.a,this._registryInjectorLabelMap=new o.a,this.own(this._registry),this.own({destroy:()=>{this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry),this.baseRegistry=void 0)}})}set base(e){this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry)),this.baseRegistry=e}get base(){return this.baseRegistry}define(e,t){this._registry.define(e,t)}defineInjector(e,t){this._registry.defineInjector(e,t)}has(e){return this._registry.has(e)||Boolean(this.baseRegistry&&this.baseRegistry.has(e))}hasInjector(e){return this._registry.hasInjector(e)||Boolean(this.baseRegistry&&this.baseRegistry.hasInjector(e))}get(e,t=!1){return this._get(e,t,"get",this._registryWidgetLabelMap)}getInjector(e,t=!1){return this._get(e,t,"getInjector",this._registryInjectorLabelMap)}_get(e,t,r,n){const s=t?[this.baseRegistry,this._registry]:[this._registry,this.baseRegistry];for(let i=0;i<s.length;i++){const o=s[i];if(!o)continue;const a=o[r](e),c=n.get(o)||[];if(a)return a;if(-1===c.indexOf(e)){const s=o.on(e,n=>{"loaded"===n.action&&this[r](e,t)===n.item&&this.emit({type:"invalidate"})});this.own(s),n.set(o,[...c,e])}}return null}};r.d(t,"i",function(){return N}),r.d(t,"h",function(){return E}),r.d(t,"g",function(){return L}),r.d(t,"a",function(){return Q}),r.d(t,"e",function(){return G}),r.d(t,"c",function(){return X}),r.d(t,"b",function(){return Z}),r.d(t,"d",function(){return ee}),r.d(t,"f",function(){return te});var g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};const f=[],h=["focus","blur","scrollIntoView","click"],b="http://www.w3.org/2000/svg",y="http://www.w3.org/1999/xlink",m="__WNODE_TYPE",O="__VNODE_TYPE",j="__DOMVNODE_TYPE";function v(e){return e&&3===e.nodeType}function w(e){return e&&k(e.node)}function _(e){return!!e&&A(e.node)}function x(e){return _(e)&&"virtual"===e.node.tag}function P(e){return _(e)&&"body"===e.node.tag}function k(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===m)}function A(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&(e.type===O||e.type===j))}function I(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===j)}function N(e,t,r){return Object(a.d)(e)?e(t,r):(k(e)&&(t=Object.assign({},e.properties,t),r=r||e.children,e=e.widgetConstructor),{children:r||[],widgetConstructor:e,properties:t,type:m})}function E(e,t={},r){let n,s=t;if(Array.isArray(t)&&(r=t,s={}),"function"==typeof s&&(n=s,s={}),A(e)){let{classes:t=[],styles:n={}}=s,i=g(s,["classes","styles"]),o=e.properties,{classes:a=[],styles:c={}}=o,d=g(o,["classes","styles"]);a=Array.isArray(a)?a:[a],t=Array.isArray(t)?t:[t],n=Object.assign({},c,n),s=Object.assign({},d,i,{classes:[...a,...t],styles:n}),r=r||e.children,e=e.tag}return{tag:e,deferredPropertiesCallback:n,children:r,properties:s,type:O}}const R="__registry_item";class ${constructor(){this.properties={}}}function C(e,t){return Array.isArray(t)?t.reduce(C,e):[...e,t]}function L(e,t={},...r){if(r=r.reduce(C,[]),t=null===t?{}:t,"string"==typeof e)return E(e,t,r);if("registry"===e.type&&t.__autoRegistryItem){const e=t.__autoRegistryItem;return delete t.__autoRegistryItem,N(e,t,r)}if(e.type===R){return N((new e).name,t,r)}return N(e,t,r)}function M(e,t){const{node:{diffType:r,properties:n,attributes:s}}=t;if(!r||"vdom"===r)return{properties:t.deferredProperties?Object.assign({},t.deferredProperties,t.node.properties):t.node.properties,attributes:t.node.attributes,events:t.node.events};if("none"===r)return{properties:{},attributes:t.node.attributes?{}:void 0,events:t.node.events};let i={properties:{}};return s?(i.attributes={},i.events=t.node.events,Object.keys(n).forEach(t=>{i.properties[t]=e[t]}),Object.keys(s).forEach(t=>{i.attributes[t]=e.getAttribute(t)}),i):(i.properties=Object.keys(n).reduce((t,r)=>(t[r]=e.getAttribute(r)||e[r],t),{}),i)}function S(e,t){if(_(e)&&_(t))return(!I(e.node)||!I(t.node)||e.node.domNode===t.node.domNode)&&(e.node.tag===t.node.tag&&e.node.properties.key===t.node.properties.key);if(w(e)&&w(t)){const r=e.registryItem||e.node.widgetConstructor,n=t.registryItem||t.node.widgetConstructor;return(void 0!==e.instance||"string"!=typeof n)&&(r===n&&e.node.properties.key===t.node.properties.key)}return!1}function D(e,t,r){for(let n=r;n<e.length;n++)if(S(e[n],t))return n;return-1}function T(e=[]){let t="";if(Array.isArray(e)){for(let r=0;r<e.length;r++){let n=e[r];n&&!0!==n&&(t=t?`${t} ${n}`:n)}return t}return e&&!0!==e&&(t=e),t}function H(e,t,r,n){n===b&&"href"===t&&r?e.setAttributeNS(y,t,r):"role"===t&&""===r||void 0===r?e.removeAttribute(t):e.setAttribute(t,r)}function W(e){return Array.prototype.slice.call(e)}function B(e,t){const r=(r,n)=>{if(r){const s=N(e,r,n);return e.isWidget=!0,e.middlewares=t,s}return{middlewares:t,callback:e}};return r.isFactory=!0,r}function Q(e={}){function t(t){return B(t,e)}return t.properties=function(){return function(t){return B(t,e)}},t}$.type=R;const V=Q();const q=new s,J=new o.b,K=new i.a;let F=0,z=0;function U(e,t,r){const n=J.get(e);if(n){n.nodeMap=n.nodeMap||new o.b,n.nodeMap.get(t)||n.nodeMap.set(t,r),K.has(`${e}-${t}`)&&(n.invalidator(),K.delete(`${e}-${t}`))}}function Y(e){e.forEach(e=>e()),e.clear()}const G=V(({id:e})=>{const[t]=e.split("-");return()=>{const e=J.get(t);if(e)return e.invalidator()}}),X=(V(({id:e})=>({get(t){const[r]=e.split("-"),n=J.get(r);if(n){n.nodeMap=n.nodeMap||new o.b;const e=n.nodeMap.get(t);if(e)return e;K.add(`${r}-${t}`)}return null}})),V(({id:e})=>(t,r)=>{const[n]=e.split("-"),s=J.get(n);if(s){s.customDiffMap=s.customDiffMap||new o.b,s.customDiffProperties=s.customDiffProperties||new i.a;const n=s.customDiffMap.get(e)||new o.b;n.has(t)||(n.set(t,r),s.customDiffProperties.add(t)),s.customDiffMap.set(e,n)}})),Z=V(({id:e})=>t=>{const[r]=e.split("-"),n=J.get(r);n&&(n.destroyMap=n.destroyMap||new o.b,n.destroyMap.has(e)||n.destroyMap.set(e,t))}),ee=V(({id:e})=>{const[t]=e.split("-");return()=>{const e=J.get(t);return e?(e.registryHandler||(e.registryHandler=new p,e.registryHandler.base=e.registry,e.registryHandler.on("invalidate",e.invalidator)),e.registryHandler=e.registryHandler||new p,e.registryHandler):null}});V(({id:e})=>{const[t]=e.split("-");let r=!1;return{pause(){const e=J.get(t);!r&&e&&(e.deferRefs=e.deferRefs+1,r=!0)},resume(){const e=J.get(t);r&&e&&(e.deferRefs=e.deferRefs-1,r=!1)}}});function te(e){let t,r,i={sync:!1,merge:!0,transition:void 0,domNode:n.default.document.body,registry:new a.a},c=[],d=[],u=[],g=[],y=new s,j=new o.b,N=new s,R=new o.b,$=new s,C=new s,L=[],B=[],Q=[];function K(e,t,r,n){let s=t&&!r;"function"==typeof t&&(s=t()),!0===s&&B.push(()=>{n[e]()})}function G(e,t,r,n){if(n){const r=y.get(n);r&&e.removeEventListener(t,r)}let s=r;"input"===t&&(s=function(e){r.call(this,e),e.target["oninput-value"]=e.target.value}),e.addEventListener(t,s),y.set(r,s)}function X(e,t,r,n=!1){Object.keys(t).forEach(s=>{const i="on"===s.substr(0,2)||n,o=n?s:s.substr(2);if(i&&!r[s]){const r=y.get(t[s]);r&&e.removeEventListener(o,r)}})}function Z(e,t,r){if(!Object(a.e)(e.node.widgetConstructor)){const n=C.get(e.node);let s;if(n&&(n.instance?t=n.instance:r=n.id),t){const e=q.get(t);e&&(s=e.registry)}else if(void 0!==r){const e=J.get(r);e&&(e.registryHandler||(e.registryHandler=new p,e.registryHandler.base=e.registry,e.registryHandler.on("invalidate",e.invalidator)),s=e.registryHandler)}if(s){let t;if(function(e){return Boolean(e&&e.label)}(e.node.widgetConstructor)){const{label:r,registryItem:n}=e.node.widgetConstructor;s.has(r)||s.define(r,n),t=r}else t=e.node.widgetConstructor;let r=s.get(t);if(Object(a.d)(r)){const t=r(e.node.properties,e.node.children);Object(a.g)(t.widgetConstructor)&&(e.registryItem=t.widgetConstructor)}else e.registryItem=r}}}function ee(e,t,r){const{requiresInsertBefore:n,hasPreviousSiblings:s,namespace:i,depth:o}=t,a=[],c=w(t),d=x(t),l=(_(r)&&R.get(r.id)||[]).length>0,u=(n||!1!==s)&&(c||d)||l&&e.length>1;let p;w(t)&&e.length&&function(e,t){for(;e.length;){let r=e.pop();(k(r)||A(r))&&(C.has(r)||(C.set(r,t),r.children&&r.children.length&&(e=[...e,...r.children])))}}([...e],t);for(let r=0;r<e.length;r++){let n=e[r];if(!n||!0===n)continue;"string"==typeof n&&(n={tag:"",properties:{},children:void 0,text:`${n}`,type:O});const s=C.get(n),d={node:n,depth:o+1,order:r,parentId:t.id,requiresInsertBefore:u,hasParentWNode:c,namespace:i};if(A(n)&&(n.deferredPropertiesCallback&&(d.deferredProperties=n.deferredPropertiesCallback(!1)),n.properties.exitAnimation)){t.hasAnimations=!0;let e=j.get(t.parentId);for(;e&&!e.hasAnimations;)e.hasAnimations=!0,e=j.get(e.parentId)}s&&(d.owningId=s.id),k(n)&&Z(d,t.instance,t.id),p&&N.set(p,d),a.push(d),p=d}return a}function te(e){const{deferredPropertiesCallback:t}=e.node;if(t){const r=e.node.properties;B.push(()=>{if(j.has(e.owningId)){const n=e.deferredProperties;e.deferredProperties=t(!0),ie(e,{properties:Object.assign({},n,r)})}})}}function re(e){let t=null,r=e;for(;!t;){const e=N.get(r);if(e){let n=e.domNode;if((w(e)||x(e))&&e.childDomWrapperId){const t=j.get(e.childDomWrapperId);t&&(n=t.domNode)}if(n&&n.parentNode){t=n;break}r=e}else if(!(r=r&&j.get(r.parentId))||_(r)&&!x(r))break}return t}function ne(e,t,r){const n=e.value,s=e["oninput-value"],i=e["select-value"];i&&n!==i?(e.value=i,e.value===i&&(e["select-value"]=void 0)):(s&&n===s||t!==r)&&(e.value=t,e["oninput-value"]=void 0)}function se(e,t={},r,n=!0){const s=r.deferredProperties?Object.assign({},r.deferredProperties,r.node.properties):r.node.properties,i=Object.keys(s),o=i.length;-1===i.indexOf("classes")&&t.classes&&e.removeAttribute("class"),n&&X(e,t,s);for(let a=0;a<o;a++){const o=i[a];let c=s[o];const d=t[o];if("classes"===o){const t=T(d);let n=T(c);if(t!==n)if(n){if(r.merged){const t=(e.getAttribute("class")||"").split(" ");for(let e=0;e<t.length;e++)-1===n.indexOf(t[e])&&(n=`${t[e]} ${n}`)}e.setAttribute("class",n)}else e.removeAttribute("class")}else if(-1!==h.indexOf(o))K(o,c,d,e);else if("styles"===o){const t=Object.keys(c),r=t.length;for(let n=0;n<r;n++){const r=t[n],s=c[r];s!==(d&&d[r])&&(e.style[r]=s||"")}}else if(c||"string"!=typeof d||(c=""),"value"===o)"SELECT"===e.tagName&&(e["select-value"]=c),ne(e,c,d);else if("key"!==o&&c!==d){const t=typeof c;"function"===t&&0===o.lastIndexOf("on",0)&&n?G(e,o.substr(2),c,d):"string"===t&&"innerHTML"!==o&&n?H(e,o,c,r.namespace):"scrollLeft"===o||"scrollTop"===o?e[o]!==c&&(e[o]=c):e[o]=c}}}function ie(e,t){if(e.node.attributes&&e.node.events){!function(e,t,r,n){const s=Object.keys(r),i=s.length;for(let o=0;o<i;o++){const i=s[o],a=r[i];a!==t[i]&&H(e,i,a,n)}}(e.domNode,t.attributes||{},e.node.attributes,e.namespace),se(e.domNode,t.properties,e,!1);const r=e.node.events||{};t.events&&X(e.domNode,t.events||{},e.node.events,!0),t.events=t.events||{},Object.keys(r).forEach(n=>{G(e.domNode,n,r[n],t.events[n])})}else se(e.domNode,t.properties,e)}function oe(){const{sync:e}=i;e?ce():t||(t=n.default.requestAnimationFrame(()=>{ce()}))}function ae(e){const t=j.get(e);if(t&&w(t))return t}function ce(){t=void 0;let e=[...c];const r=[];let n;for(c=[],e.sort((e,t)=>{let r=t.depth-e.depth;return 0===r&&(r=t.order-e.order),r}),u.length&&(d=[...u],u=[],le(),u.length&&(c=[...e],e=[]));n=e.pop();){let{id:e}=n;const t=ae(e);if(!t||-1!==r.indexOf(e)||!j.has(t.parentId))continue;r.push(e);const s=N.get(t),i={node:{type:m,widgetConstructor:t.node.widgetConstructor,properties:t.properties||{},children:t.node.children||[]},instance:t.instance,id:t.id,properties:t.properties,depth:t.depth,order:t.order,owningId:t.owningId,parentId:t.parentId,registryItem:t.registryItem};s&&N.set(i,s);const o=be({current:t,next:i});o&&o.item&&(d.push(o.item),j.set(e,i),le())}ue(),de(),pe()}function de(){if(0===u.length){let e;for(;e=Q.pop();)e.parentNode&&e.parentNode.removeChild(e);i.merge=!1}}function le(){let e;for(;e=d.pop();)if(e.type)"attach"===e.type&&ye(e.id),e.instance&&g.push(e);else{const{current:t,next:r,meta:n}=e;fe(t||f,r||f,n)}}function ue(){let e;for(g.reverse();e=g.pop();)if("create"===e.type){const{parentDomNode:t,next:r,next:{domNode:n,merged:s,requiresInsertBefore:o,node:a}}=e;if(ie(r,{properties:{}}),te(r),!s){let e;o?e=re(r):$&&(e=$.get(r)),t.insertBefore(n,e),I(r.node)&&r.node.onAttach&&r.node.onAttach()}"OPTION"===n.tagName&&n.parentElement&&ne(n.parentElement);const{enterAnimation:c,enterAnimationActive:d}=a.properties;i.transition&&c&&!0!==c&&i.transition.enter(n,c,d);const l=C.get(r.node);if(l&&null!=a.properties.key)if(l.instance){const e=q.get(l.instance);e&&e.nodeHandler.add(n,`${a.properties.key}`)}else U(l.id,a.properties.key,n);e.next.inserted=!0}else if("update"===e.type){const{next:t,next:{domNode:r},current:n,current:{domNode:s}}=e;if(v(r)&&v(s)&&r!==s)s.parentNode&&s.parentNode.replaceChild(r,s);else{ie(t,M(r,n)),te(t)}}else if("delete"===e.type){const{current:t}=e,{exitAnimation:r,exitAnimationActive:n}=t.node.properties;i.transition&&r&&!0!==r?i.transition.exit(t.domNode,r,n):t.domNode.parentNode.removeChild(t.domNode)}else if("attach"===e.type){const{instance:t,attached:r}=e,n=q.get(t);n&&(n.nodeHandler.addRoot(),r&&n.onAttach())}else if("detach"===e.type){if(e.current.instance){const t=q.get(e.current.instance);t&&t.onDetach()}e.current.instance=void 0}0===u.length&&(C=new s)}function pe(){!function(){const{sync:e}=i,t=L;if(L=[],t.length){const r=()=>{let e;for(;e=t.shift();)e()};e?r():n.default.requestIdleCallback?n.default.requestIdleCallback(r):setTimeout(r)}}(),function(){const{sync:e}=i,t=B;if(B=[],t.length){const r=()=>{let e;for(;e=t.shift();)e()};e?r():n.default.requestAnimationFrame(r)}}()}function ge(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(null==n.node.properties.key)return!1;t.push(n.node.properties.key)}return t}function fe(e,t,r={}){let{mergeNodes:n=[],oldIndex:s=0,newIndex:o=0}=r;const a=e.length,c=t.length,l=a>1||a>0&&a<c;let p=[],f=!1;if(0===s&&0===o&&a){const r=ge(e);if(r){const n=ge(t);if(n)for(let t=0;t<r.length;t++){if(-1!==n.indexOf(r[t])){p=[],f=!1;break}f=!0,p.push({current:e[t],next:void 0})}}}if(f||0===a&&!i.merge)for(let e=0;e<t.length;e++)p.push({current:void 0,next:t[e]});else{if(o<c){let r=s<a?e[s]:void 0;const c=t[o];c.hasPreviousSiblings=l,function(e,t){const{merge:r}=i;if(r&&t.length)if(_(e)){let{node:{tag:r}}=e;for(let n=0;n<t.length;n++){const s=t[n],i=s.tagName||"";if(r.toUpperCase()===i.toUpperCase()){const r=Q.indexOf(s);-1!==r&&Q.splice(r,1),t.splice(n,1),e.domNode=s;break}}}else e.mergeNodes=t}(c,n),r&&S(r,c)?(s++,o++,_(r)&&_(c)&&(c.inserted=r.inserted),p.push({current:r,next:c})):r&&-1!==D(e,c,s+1)?-1===D(t,r,o+1)?(p.push({current:r,next:void 0}),s++):(p.push({current:r,next:void 0}),p.push({current:void 0,next:c}),s++,o++):(p.push({current:void 0,next:c}),o++)}if(o<c&&d.push({current:e,next:t,meta:{mergeNodes:n,oldIndex:s,newIndex:o}}),a>s&&o>=c)for(let t=s;t<a;t++)p.push({current:e[t],next:void 0})}for(let s=0;s<p.length;s++){const a=he(p[s]);if(!1===a){if(i.merge&&n.length){o<c&&d.pop(),d.push({next:t,current:e,meta:r}),u=d,d=[];break}continue}const{widget:l,item:f,dom:h}=a;l&&d.push(l),f&&d.push(f),h&&g.push(h)}}function he({current:e,next:t}){if(e!==t){if(!e&&t)return _(t)?function({next:e}){const t=function(e){let t,r=j.get(e.parentId);for(;!t&&r;)!t&&_(r)&&!x(r)&&r.domNode&&(t=r.domNode),r=j.get(r.parentId);return t}(e),r=x(e),s=P(e);let o,a=[];e.id=`${F++}`,j.set(e.id,e),e.domNode?i.merge&&(e.merged=!0,v(e.domNode)?e.domNode.data!==e.node.text&&(Q=[e.domNode,...Q],e.domNode=n.default.document.createTextNode(e.node.text),e.merged=!1):(a=W(e.domNode.childNodes),Q=[...Q,...a])):(e.node.domNode?e.domNode=e.node.domNode:("svg"===e.node.tag&&(e.namespace=b),s?e.domNode=n.default.document.body:e.node.tag&&!r?e.namespace?e.domNode=n.default.document.createElementNS(e.namespace,e.node.tag):e.domNode=n.default.document.createElement(e.node.tag):null!=e.node.text&&(e.domNode=n.default.document.createTextNode(e.node.text))),$&&Q.length&&t===Q[0].parentNode&&$.set(e,Q[0]));(e.domNode||r)&&e.node.children&&e.node.children.length&&(o=ee(e.node.children,e,null),R.set(e.id,o));const c=r||s?void 0:{next:e,parentDomNode:t,type:"create"};if(o)return{item:{current:[],next:o,meta:{mergeNodes:a}},dom:c,widget:r?{type:"attach",id:e.id,attached:!1}:void 0};return{dom:c}}({next:t}):function({next:e}){let t,n,{node:{widgetConstructor:s}}=e,{registry:o}=i,d=e.registryItem||s;if(!Object(a.e)(d)){if(Z(e),!e.registryItem)return!1;d=e.registryItem}e.properties=e.node.properties,e.id=e.id||`${F++}`,j.set(e.id,e);const{id:l,depth:u,order:p}=e;if(Object(a.f)(d)){let r=new d;r.registry.base=o;const s=q.get(r);n=(()=>{s.dirty=!0,!s.rendering&&j.has(l)&&(c.push({id:l,depth:u,order:p}),oe())}),s.invalidate=n,s.rendering=!0,r.__setProperties__(e.node.properties),r.__setChildren__(e.node.children),e.instance=r,t=r.__render__(),s.rendering=!1}else{let r=J.get(l);if(r?n=r.invalidator:(n=(()=>{const e=J.get(l);e&&(e.dirty=!0,!e.rendering&&j.has(l)&&(c.push({id:l,depth:u,order:p}),oe()))}),r={dirty:!1,invalidator:n,properties:e.node.properties,children:e.node.children,deferRefs:0,rendering:!0,registry:i.registry},J.set(e.id,r),r.middleware=d.middlewares?function e(t,r){const n=Object.keys(t);const s={};const i=`${r}-${z++}`;for(let o=0;o<n.length;o++){const a=t[n[o]](),c={id:i,properties:()=>{const e=J.get(r);return e?Object.assign({},e.properties):{}},children:()=>{const e=J.get(r);return e?e.children:[]}};if(a.middlewares){const t=e(a.middlewares,r);c.middleware=t,s[n[o]]=a.callback(c)}else s[n[o]]=a.callback(c)}return s}(d.middlewares,l):{}),t=d({id:l,properties:()=>e.node.properties,children:()=>e.node.children,middleware:r.middleware}),r.rendering=!1,r.deferRefs>0)return!1}let g;t&&(t=Array.isArray(t)?t:[t],g=ee(t,e,null),R.set(l,g));r||d.isWNodeWrapper||(r=n);return{item:{next:g,meta:{mergeNodes:e.mergeNodes}},widget:{type:"attach",instance:e.instance,id:l,attached:!0}}}({next:t});if(e&&t){if(_(e)&&_(t))return function({current:e,next:t}){let r;t.domNode=e.domNode,t.namespace=e.namespace,t.id=e.id,t.childDomWrapperId=e.childDomWrapperId;let s=R.get(t.id);null!=t.node.text&&t.node.text!==e.node.text?t.domNode=n.default.document.createTextNode(t.node.text):t.node.children&&(r=ee(t.node.children,t,e),R.set(t.id,r));return N.delete(e),j.set(t.id,t),{item:{current:s,next:r,meta:{}},dom:{type:"update",next:t,current:e}}}({current:e,next:t});if(w(e)&&w(t))return be({current:e,next:t})}else if(e&&!t){if(_(e))return function({current:e}){const t=x(e),r=P(e),n=R.get(e.id);if(R.delete(e.id),j.delete(e.id),N.delete(e),e.node.properties.key){const t=J.get(e.owningId),r=ae(e.owningId);if(t)t.nodeMap&&t.nodeMap.delete(e.node.properties.key);else if(r&&r.instance){const t=q.get(r.instance);t&&t.nodeHandler.remove(e.node.properties.key)}}if(e.hasAnimations||t||r)return{item:{current:n,meta:{}},dom:t||r?void 0:{type:"delete",current:e}};n&&B.push(()=>{let e,t=n||[],r=[];for(;e=t.pop();){if(w(e))if((e=ae(e.id)||e).instance){const t=q.get(e.instance);t&&t.onDetach(),e.instance=void 0}else{const t=J.get(e.id);t&&(t.registryHandler&&t.registryHandler.destroy(),t.destroyMap&&Y(t.destroyMap),J.delete(e.id))}let n=R.get(e.id);n&&t.push(...n),P(e)?r.push(e.id):-1!==r.indexOf(e.parentId)&&(w(e)||x(e)?r.push(e.id):e.domNode&&e.domNode.parentNode&&e.domNode.parentNode.removeChild(e.domNode)),R.delete(e.id),j.delete(e.id)}});return{dom:{type:"delete",current:e}}}({current:e});if(w(e))return function({current:e}){e=ae(e.id)||e,j.delete(e.id);const t=J.get(e.id);let r=R.get(e.id);R.delete(e.id),N.delete(e);let n={item:{current:r,meta:{}}};t?(t.registryHandler&&t.registryHandler.destroy(),t.destroyMap&&Y(t.destroyMap),J.delete(e.id)):n.widget={type:"detach",current:e,instance:e.instance};return n}({current:e})}}return{}}function be({current:e,next:t}){e=ae(e.id)||e;const{instance:r,domNode:n,hasAnimations:s}=e;let{node:{widgetConstructor:i}}=t;const c=t.registryItem||i;if(!Object(a.e)(c))return{};let d,u,p={},g=!1,f=R.get(e.id);if(t.hasAnimations=s,t.id=e.id,t.childDomWrapperId=e.childDomWrapperId,t.properties=t.node.properties,N.delete(e),n&&n.parentNode&&(t.domNode=n),Object(a.f)(c)){const e=q.get(r);t.instance=r,e.rendering=!0,r.__setProperties__(t.node.properties),r.__setChildren__(t.node.children),e.dirty&&(g=!0,R.delete(t.id),d=r.__render__()),e.rendering=!1}else{const r=J.get(t.id);r&&(r.properties=t.properties,r.rendering=!0,function(e,t,r){e.customDiffMap=e.customDiffMap||new o.b,e.customDiffMap.size&&e.customDiffMap.forEach(e=>{e.forEach(e=>e(Object.assign({},t),Object.assign({},r)))})}(r,e.properties,t.properties),(e.node.children.length>0||t.node.children.length>0)&&(r.dirty=!0),r.dirty||function(e,t,r,n){const s=[...Object.keys(e),...Object.keys(t)];for(let i=0;i<s.length;i++)if(!(n.indexOf(s[i])>-1)){if(l(e[s[i]],t[s[i]]).changed){r();break}n.push(s[i])}}(e.properties,t.properties,()=>{r.dirty=!0},r.customDiffProperties?[...r.customDiffProperties.values()]:[]),r.dirty&&(R.delete(t.id),g=!0,r.dirty=!1,d=c({id:t.id,properties:()=>t.node.properties,children:()=>t.node.children,middleware:r.middleware}),r.deferRefs>0&&(d=null)),r.rendering=!1)}return j.set(t.id,t),p.widget={type:"attach",instance:r,id:t.id,attached:!1},d&&(u=ee(d=Array.isArray(d)?d:[d],t,e),R.set(t.id,u)),g&&(p.item={current:f,next:u,meta:{}}),p}function ye(e){let t,r=j.get(e),n=[...R.get(e)||[]];for(;n.length&&!r.domNode;)if(t=n.shift()){if(t.domNode){r.childDomWrapperId=t.id;break}let e=R.get(t.id);e&&(n=[...e,...n])}}return{mount:function(t={}){i=Object.assign({},i,t);const{domNode:r}=i,n=function(e){const t=e(),r=k(t),n=()=>t;return n.isWNodeWrapper=r,V(n)}(e)({}),s={id:`${F++}`,node:n,order:0,depth:1,owningId:"-1",parentId:"-1",siblingId:"-1",properties:{}};j.set("-1",{id:"-1",depth:0,order:0,owningId:"",domNode:r,node:E("fake"),parentId:"-1"}),d.push({current:[],next:[s],meta:{mergeNodes:W(r.childNodes)}}),le(),ue(),de(),$=void 0,pe()},invalidate:function(){r&&r()}}}},function(e,t,r){"use strict";var n=r(1),s=r(0),i=r(18),o=r(28),a=r(30),c=r(40),d=r(31),l=r(26);function u(e){return"string"==typeof e}class p{constructor(){this._state={},this.get=(e=>e.value),this.apply=(e=>{const t=new c.b(e).apply(this._state);return this._state=t.object,t.undoOperations}),this.at=((e,t)=>{const r=this.get(e),n=r&&r[t];return{path:`${e.path}/${t}`,state:e.state,value:n}}),this.path=((e,...t)=>{const r=(t="string"==typeof e?[e,...t]:[...new d.a(e.path).segments,...t]).filter(u),n=r.length>1,s=new d.a(n?r:r[0]||"");return{path:s.path,state:this._state,value:s.get(this._state)}})}}var g=class extends a.a{constructor(e){super(),this._adapter=new p,this._changePaths=new l.b,this._callbackId=0,this.get=(e=>this._adapter.get(e)),this.apply=((e,t=!1)=>{const r=this._adapter.apply(e);return t&&this.invalidate(),r}),this.at=((e,t)=>this._adapter.at(e,t)),this.onChange=((e,t)=>{const r=this._callbackId;return Array.isArray(e)||(e=[e]),e.forEach(e=>this._addOnChange(e,t,r)),this._callbackId+=1,{remove:()=>{e.forEach(e=>{const t=this._changePaths.get(e.path);t&&(t.callbacks=t.callbacks.filter(e=>e.callbackId!==r))})}}}),this._addOnChange=((e,t,r)=>{let n=this._changePaths.get(e.path);n||(n={callbacks:[],previousValue:this.get(e)}),n.callbacks.push({callbackId:r,callback:t}),this._changePaths.set(e.path,n)}),this.path=this._adapter.path.bind(this._adapter),e&&e.state&&(this._adapter=e.state,this.path=this._adapter.path.bind(this._adapter))}_runOnChanges(){const e=[];this._changePaths.forEach((t,r)=>{const{previousValue:n,callbacks:s}=t,i=new d.a(r),o=i.segments.length?this._adapter.path(i.segments[0],...i.segments.slice(1)).value:void 0;n!==o&&(this._changePaths.set(r,{callbacks:s,previousValue:o}),s.forEach(t=>{const{callback:r,callbackId:n}=t;-1===e.indexOf(n)&&(e.push(n),r())}))})}invalidate(){this._runOnChanges(),this.emit({type:"invalidate"})}};const f=Object(i.a)({destroy:i.b,invalidator:i.e,injector:o.a}),h=e=>{let t=new g,r=!1;return e&&e(t),f(({middleware:{destroy:e,invalidator:n,injector:s}})=>{const i=[];if(e(()=>{let e;for(;e=i.pop();)e()}),!r){const e=s.get("state");e&&(t=e),r=!0}const o=[];return{get(e){if(-1===o.indexOf(e.path)){const r=t.onChange(e,()=>{n()});i.push(()=>r.remove()),o.push(e.path)}return t.get(e)},path:(e,...r)=>t.path(e,...r),at:(e,r)=>t.at(e,r),executor:e=>e(t)}})};class b{constructor({window:e=s.default.window,onChange:t}){this._onChange=(()=>{const e=this.normalizePath(this._window.location.hash);e!==this._current&&(this._current=e,this._onChangeFunction(this._current))}),this._onChangeFunction=t,this._window=e,this._window.addEventListener("hashchange",this._onChange,!1),this._current=this.normalizePath(this._window.location.hash),this._onChangeFunction(this._current)}normalizePath(e){return e.replace("#","")}prefix(e){return"#"!==e[0]?`#${e}`:e}set(e){this._window.location.hash=this.prefix(e),this._onChange()}get current(){return this._current}destroy(){this._window.removeEventListener("hashchange",this._onChange)}}const y="__PARAM__",m=new RegExp(/^{.+}$/),O=7,j=2;function v({params:e},{params:t}){return!!Object.keys(e).every(r=>e[r]===t[r])&&Object.keys(t).every(r=>e[r]===t[r])}class w extends a.b{constructor(e,t={}){super(),this._routes=[],this._outletMap=Object.create(null),this._matchedOutlets=Object.create(null),this._currentParams={},this._currentQueryParams={},this._onChange=(e=>{e=this._stripLeadingSlash(e);const t=this._matchedOutlets;this._matchedOutlets=Object.create(null);const[r,n]=e.split("?");this._currentQueryParams=this._getQueryParams(n);const s=r.split("/");let i,o=this._routes.map(e=>({route:e,segments:[...s],parent:void 0,params:{}})),a=[];for(;i=o.pop();){const{route:e,parent:t,segments:r,params:n}=i;let s=0,c="index",d=0,l=!0;if(r.length<e.segments.length)l=!1;else for(;r.length>0;){if(void 0===e.segments[s]){c="partial";break}const t=r.shift();if(e.segments[s]===y)n[e.params[d++]]=t,this._currentParams=Object.assign({},this._currentParams,n);else if(e.segments[s]!==t){l=!1;break}s++}l&&(i.type=c,a.push({route:e,parent:t,type:c,params:n,segments:[]}),r.length&&(o=[...o,...e.children.map(e=>({route:e,segments:[...r],parent:i,type:c,params:Object.assign({},n)}))]))}let c=void 0,d=a.reduce((e,t)=>e&&e.route.score>t.route.score?e:t,void 0);if(d)for("partial"===d.type&&(d.type="error"),c=d.route.outlet;d;){let{type:e,params:r,parent:n,route:s}=d;const i={id:s.outlet,queryParams:this._currentQueryParams,params:r,type:e,isError:()=>"error"===e,isExact:()=>"index"===e},o=t[s.outlet];this._matchedOutlets[s.outlet]=i,o&&v(o,i)||this.emit({type:"outlet",outlet:i,action:"enter"}),d=n}else this._matchedOutlets.errorOutlet={id:"errorOutlet",queryParams:{},params:{},isError:()=>!0,isExact:()=>!1,type:"error"};const l=Object.keys(t);for(let e=0;e<l.length;e++){const r=l[e],n=this._matchedOutlets[r];n&&v(t[r],n)||this.emit({type:"outlet",outlet:t[r],action:"exit"})}this.emit({type:"nav",outlet:c,context:c?this._matchedOutlets[c]:void 0})}),this._options=t,this._register(e),t.autostart,this.start()}setPath(e){this._history.set(e)}start(){const{HistoryManager:e=b,base:t,window:r}=this._options;if(this._history=new e({onChange:this._onChange,base:t,window:r}),this._matchedOutlets.errorOutlet&&this._defaultOutlet){const e=this.link(this._defaultOutlet);e&&this.setPath(e)}}link(e,t={}){const{_outletMap:r,_currentParams:n,_currentQueryParams:s}=this;let i=r[e];if(void 0===i)return;let o=i.fullPath;if(i.fullQueryParams.length>0){o=`${o}${i.fullQueryParams.reduce((e,t,r)=>r>0?`${e}&${t}={${t}}`:`?${t}={${t}}`,"")}`}if(t=Object.assign({},i.defaultParams,s,n,t),0===Object.keys(t).length&&i.fullParams.length>0)return;const a=[...i.fullParams,...i.fullQueryParams];for(let e=0;e<a.length;e++){const r=a[e];if(!t[r])return;o=o.replace(`{${r}}`,t[r])}return this._history.prefix(o)}getOutlet(e){return this._matchedOutlets[e]}get currentParams(){return this._currentParams}_stripLeadingSlash(e){return"/"===e[0]?e.slice(1):e}_register(e,t,r){t=t||this._routes;for(let n=0;n<e.length;n++){let{path:s,outlet:i,children:o,defaultRoute:a=!1,defaultParams:c={}}=e[n],[d,l]=s.split("?"),u=[];const p=(d=this._stripLeadingSlash(d)).split("/"),g={params:[],outlet:i,path:d,segments:p,defaultParams:r?Object.assign({},r.defaultParams,c):c,children:[],fullPath:r?`${r.fullPath}/${d}`:d,fullParams:[],fullQueryParams:[],score:r?r.score:0};a&&(this._defaultOutlet=i);for(let e=0;e<p.length;e++){const t=p[e];g.score+=O,m.test(t)&&(g.score-=j,g.params.push(t.replace("{","").replace("}","")),p[e]=y)}l&&(u=l.split("&").map(e=>e.replace("{","").replace("}",""))),g.fullQueryParams=r?[...r.fullQueryParams,...u]:u,g.fullParams=r?[...r.fullParams,...g.params]:g.params,o&&o.length>0&&this._register(o,g.children,g),this._outletMap[i]=g,t.push(g)}}_getQueryParams(e){const t={};if(e){const r=e.split("&");for(let e=0;e<r.length;e++){const[n,s]=r[e].split("=");t[n]=s}}return t}}var _=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};var x=r(20),P=r(21),k=r(22),A=r(25);const I=Object(k.a)(async({path:e})=>{const t=await fetch(`${A.a}/tags`),r=await t.json();return[Object(P.c)(e("tags"),r.tags)]}),N=Object(x.b)("get-tags",[I]);var E=r(29),R=r(27);function $(e,t){const r=["user","favorites"];return r.indexOf(e)>-1&&r.indexOf(t)>-1}const C=Object(k.a)(({get:e,path:t,payload:{outlet:r,context:n}})=>{const s=e(t("routing","outlet"));return[Object(P.c)(t("routing","outlet"),r),Object(P.c)(t("routing","params"),n.params),Object(P.c)(t("settings"),void 0),Object(P.c)(t("editor"),void 0),$(s,r)?Object(P.c)(t("profile","feed"),{}):Object(P.c)(t("profile"),void 0),Object(P.c)(t("feed"),void 0),Object(P.c)(t("errors"),{})]}),L=Object(x.b)("change-route",[C]);r.d(t,"b",function(){return M});const M=new R.c,S=function(e,t,r={}){const{key:n="router"}=r,s=_(r,["key"]);if(t.hasInjector(n))throw new Error("Router has already been defined");const i=new w(e,s);return t.defineInjector(n,e=>(i.on("nav",()=>e()),()=>i)),i}([{path:"login",outlet:"login"},{path:"register",outlet:"register"},{path:"user/{username}",outlet:"user"},{path:"user/{username}/favorites",outlet:"favorites"},{path:"article/{slug}",outlet:"article"},{path:"settings",outlet:"settings"},{path:"editor",outlet:"new-post",children:[{path:"editor/{slug}",outlet:"edit-post"}]},{path:"home",outlet:"home",defaultRoute:!0}],M),D=h(e=>{let t;function r(){const t=e.get(e.path("routing","outlet")),r=e.get(e.path("routing","params"));if(t){const e=S.link(t,r);void 0!==e&&S.setPath(e)}}Object(n.default)("build-time-render")||(t=s.default.sessionStorage.getItem("conduit-session")),t&&Object(E.d)(e)({session:JSON.parse(t)}),N(e)({}),S.on("nav",({outlet:t,context:r})=>{L(e)({outlet:t,context:r})}),e.onChange(e.path("routing","outlet"),r),e.onChange(e.path("routing","params"),r)});t.a=D},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return u});var n=r(2),s=r(21),i=r(26);r(1);function o(){return function(e){return e}}const a=new i.b,c=Symbol("value");const d="State updates are not available on legacy browsers";function l(e,t,r,o,a,l){const{apply:u,get:p,path:g,at:f}=r;function h(e,t,n){return e(r)(t)}return async b=>{const y=[],m=[...t];let O=[],j=m.shift(),v=null;const w=l?l(b):b;if(o){let t=o(w,r,e);t&&await t}function _(){const e=new i.b,t=new i.b,r=[],n=i=>({get(r,s){const o=i?g(i,s):g(s),a=o.path;if("symbol"==typeof s&&s===c)return t.get(a);let d=i||r.hasOwnProperty(s)?r[s]:p(o);if("object"==typeof d&&null!==d){let i;return e.has(a)?i=e.get(a):(d=Array.isArray(d)?d.slice():Object.assign({},d),i=new Proxy(d,n(o)),e.set(a,i),t.set(a,d)),r[s]=d,i}return r[s]=d,d},set:(e,t,n)=>(n=function e(t){if("object"==typeof t&&null!==t){t[c]&&(t=t[c]);const r=Array.isArray(t)?[]:{},n=Object.keys(t);for(let s=0;s<n.length;s++)r[n[s]]=e(t[n[s]]);t=r}return t}(n),r.push(Object(s.c)(i?g(i,t):g(t),n)),e[t]=n,!0),deleteProperty:(e,t)=>(r.push(Object(s.b)(i?g(i,t):g(t))),delete e[t],!0)});return{proxy:new Proxy({},n()),operations:r}}try{for(;j;){let e=[];let t;t=(e=(Array.isArray(j)?j:[j]).map(e=>{let t,r=[];if("undefined"!=typeof Proxy){const{operations:e,proxy:n}=_();t=n,r=e}let s=e({at:f,get:p,path:g,payload:w,get state(){if("undefined"==typeof Proxy)throw new Error(d);return t}});return Object(n.isThenable)(s)?s.then(e=>e=e?[...r,...e]:[...r]):s=s&&Array.isArray(s)?[...r,...s]:[...r]})).some(n.isThenable)?await Promise.all(e):e;for(let r=0;r<e.length;r++)y.push(...t[r]),O=[...u(t[r]),...O];r.invalidate(),j=m.shift()}}catch(e){if(e.message===d)throw e;v={error:e,command:j}}return a&&a(v,{undoOperations:O,store:r,id:e,operations:y,apply:u,at:f,get:p,path:g,executor:h,payload:w}),Promise.resolve({store:r,undoOperations:O,id:e,error:v,operations:y,apply:u,at:f,get:p,path:g,executor:h,payload:w})}}function u(e,t,r){const n=(r=Array.isArray(r)?r:r?[r]:[]).length?r.reduce((t,r)=>(function(e,t){const{before:r,after:n}=e();return e=>{const{before:s,after:i}=e?e():{};return()=>({after(e,t){i&&i(e,t),n&&n(e,t)},before(e,n){s&&s(e,n,t),r&&r(e,n,t)}})}})(r,e)(t)):void 0,{before:s,after:i}=n?n():{};return a.set(e,[e,t,s,i]),(r,n)=>l(e,t,r,s,i,n)}},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return a});var n=r(40),s=r(31);function i(e,t){return{op:n.a.ADD,path:new s.a(e.path),value:t}}function o(e,t){return{op:n.a.REPLACE,path:new s.a(e.path),value:t}}function a(e){return{op:n.a.REMOVE,path:new s.a(e.path)}}},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var n=r(20);function s(e){const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Token ${e}`),t}const i=Object(n.a)()},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(18),s=r(28),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};const o=Object(n.a)({injector:s.a}).properties()(function({middleware:{injector:e},properties:t,children:r}){let s=t(),{routerKey:o="router",to:a,isOutlet:c=!0,target:d,params:l={},onClick:u}=s,p=i(s,["routerKey","to","isOutlet","target","params","onClick"]);const g=e.get(o);let f,h=a;if(g){c&&(h=g.link(h,l));const e=e=>{u&&u(e),e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||d||(e.preventDefault(),void 0!==h&&g.setPath(h))};f=Object.assign({},p,{onclick:e,href:h})}else f=Object.assign({},p,{href:h});return Object(n.h)("a",f,r())});t.b=o},,function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="https://conduit.productionready.io/api"},function(e,t,r){"use strict";var n=r(0);r(1);let s,i,o,a,c,d,l,u,p;s=Object.assign,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.is,d=Object.keys,l=Object.getOwnPropertyDescriptors,u=Object.entries,p=Object.values;r.d(t,"a",function(){return g});let g=n.default.Map;t.b=g},function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return c}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"a",function(){return u});var n=r(2),s=r(26),i=r(30);const o="__widget_base_type";function a(e){return Boolean(e&&e._type===o)}function c(e){return Boolean(e&&e.isWidget)}function d(e){return!("function"!=typeof e||!e.isFactory)}function l(e){return a(e)||c(e)}class u extends i.a{emitLoadedEvent(e,t){this.emit({type:e,action:"loaded",item:t})}define(e,t){if(void 0===this._widgetRegistry&&(this._widgetRegistry=new s.b),this._widgetRegistry.has(e))throw new Error(`widget has already been registered for '${e.toString()}'`);this._widgetRegistry.set(e,t),t instanceof n.default?t.then(t=>(this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}):a(t)&&this.emitLoadedEvent(e,t)}defineInjector(e,t){if(void 0===this._injectorRegistry&&(this._injectorRegistry=new s.b),this._injectorRegistry.has(e))throw new Error(`injector has already been registered for '${e.toString()}'`);const r=new i.a,n={injector:t(()=>r.emit({type:"invalidate"})),invalidator:r};this._injectorRegistry.set(e,n),this.emitLoadedEvent(e,n)}get(e){if(!this._widgetRegistry||!this.has(e))return null;const t=this._widgetRegistry.get(e);if(l(t)||d(t))return t;if(t instanceof n.default)return null;const r=t();return this._widgetRegistry.set(e,r),r.then(t=>(function(e){return Boolean(e&&e.hasOwnProperty("__esModule")&&e.hasOwnProperty("default")&&(l(e.default)||d(e.default)))}(t)&&(t=t.default),this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}),null}getInjector(e){return this._injectorRegistry&&this.hasInjector(e)?this._injectorRegistry.get(e):null}has(e){return Boolean(this._widgetRegistry&&this._widgetRegistry.has(e))}hasInjector(e){return Boolean(this._injectorRegistry&&this._injectorRegistry.has(e))}}t.c=u},function(e,t,r){"use strict";var n=r(18);const s=Object(n.a)({getRegistry:n.d,invalidator:n.e,destroy:n.b})(({middleware:{getRegistry:e,invalidator:t,destroy:r}})=>{const n=[];r(()=>{let e;for(;e=n.pop();)e.destroy()});const s=e();return{subscribe(e,r=t){if(s){const t=s.getInjector(e);if(t){const e=t.invalidator.on("invalidate",()=>{r()});return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&(n.splice(t,1),e.destroy())}}}},get(e){if(s){const t=s.getInjector(e);if(t)return t.injector()}return null}}});t.a=s},function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"c",function(){return h}),r.d(t,"d",function(){return b}),r.d(t,"b",function(){return y});var n=r(0),s=r(20),i=r(21),o=r(22),a=r(25);const c=Object(o.a)(({path:e})=>[Object(i.c)(e("login","isLoading"),!0)]),d=Object(o.a)(({path:e})=>[Object(i.c)(e("register","isLoading"),!0)]),l=Object(o.a)(({path:e,payload:{session:t}})=>[Object(i.c)(e("session"),t)]),u=Object(o.a)(async({path:e,payload:t})=>{const r={user:{email:t.email,password:t.password}},s=await fetch(`${a.a}/users/login`,{method:"post",body:JSON.stringify(r),headers:Object(o.b)()}),c=await s.json();return s.ok?(n.default.sessionStorage.setItem("conduit-session",JSON.stringify(c.user)),[Object(i.c)(e("routing","outlet"),"home"),Object(i.c)(e("login","isLoading"),!1),Object(i.c)(e("errors"),void 0),Object(i.c)(e("session"),c.user)]):[Object(i.c)(e("login","isLoading"),!0),Object(i.c)(e("errors"),c.errors),Object(i.c)(e("session"),{})]}),p=Object(o.a)(async({path:e,payload:{username:t,email:r,password:s}})=>{const c={user:{username:t,email:r,password:s}},d=await fetch(`${a.a}/users`,{method:"post",body:JSON.stringify(c),headers:Object(o.b)()}),l=await d.json();return d.ok?(n.default.sessionStorage.setItem("conduit-session",JSON.stringify(l.user)),[Object(i.c)(e("routing","outlet"),"home"),Object(i.c)(e("register","isLoading"),!1),Object(i.c)(e("errors"),void 0),Object(i.c)(e("session"),l.user)]):[Object(i.c)(e("register","isLoading"),!1),Object(i.c)(e("errors"),l.errors),Object(i.c)(e("session"),{})]}),g=Object(o.a)(({path:e})=>(n.default.sessionStorage.removeItem("conduit-session"),[Object(i.c)(e("session"),{}),Object(i.c)(e("routing","outlet"),"home")])),f=Object(s.b)("login",[c,u]),h=Object(s.b)("register",[d,p]),b=Object(s.b)("set-session",[l]),y=Object(s.b)("logout",[g])},function(e,t,r){"use strict";var n=r(26),s=r(2);function i(){return s.default.resolve(!1)}function o(){throw new Error("Call made to destroyed method")}class a{constructor(){this.handles=[]}own(e){const{handles:t}=this;return t.push(e),{destroy(){t.splice(t.indexOf(e)),e.destroy()}}}destroy(){return new s.default(e=>{this.handles.forEach(e=>{e&&e.destroy&&e.destroy()}),this.destroy=i,this.own=o,e(!0)})}}r.d(t,"a",function(){return d});const c=new n.b;class d extends a{constructor(){super(...arguments),this.listenersMap=new n.b}emit(e){this.listenersMap.forEach((t,r)=>{(function(e,t){if("string"==typeof t&&"string"==typeof e&&-1!==e.indexOf("*")){let r;return c.has(e)?r=c.get(e):(r=new RegExp(`^${e.replace(/\*/g,".*")}$`),c.set(e,r)),r.test(t)}return e===t})(r,e.type)&&[...t].forEach(t=>{t.call(this,e)})})}on(e,t){if(Array.isArray(t)){const r=t.map(t=>this._addListener(e,t));return{destroy(){r.forEach(e=>e.destroy())}}}return this._addListener(e,t)}_addListener(e,t){const r=this.listenersMap.get(e)||[];return r.push(t),this.listenersMap.set(e,r),{destroy:()=>{const r=this.listenersMap.get(e)||[];r.splice(r.indexOf(t),1)}}}}t.b=d},function(e,t,r){"use strict";function n(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function s(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e,t,r=!0,n=!0){r&&(t=Object.assign({},t));const s={object:t,target:t,segment:""};return e.reduce((t,s,i)=>{if(void 0===t.target)return t;if(Array.isArray(t.target)&&"-"===s&&(s=String(t.target.length-1)),i+1<e.length){const o=e[i+1];let a=t.target[s];if(void 0===a&&!n)return t.target=void 0,t;r||void 0===a?(a=Array.isArray(a)?[...a]:"object"==typeof a?Object.assign({},a):isNaN(o)||isNaN(parseInt(o,0))?{}:[],t.target[s]=a,t.target=a):t.target=a}else t.segment=s;return t},s)}r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});class o{constructor(e){if(Array.isArray(e)?this._segments=e:(this._segments=("/"===e[0]?e:`/${e}`).split("/"),this._segments.shift()),0===e.length||1===e.length&&"/"===e[0]||""===e[0])throw new Error("Access to the root is not supported.");this._segments=this._segments.map(n)}get segments(){return this._segments}get path(){return`/${this._segments.map(s).join("/")}`}get(e){const t=i(this.segments,e,!1,!1);if(void 0!==t.target)return t.target[t.segment]}toJSON(){return this.toString()}toString(){return this.path}}},function(e,t,r){"use strict";var n=r(18),s=r(26);const i=Object(n.a)({destroy:n.b})(({middleware:{destroy:e}})=>{const t=new s.b;return e(()=>{t.clear()}),{get:e=>t.get(e),set(e,r){t.set(e,r)},clear(){t.clear()}}});t.a=i},function(e,t,r){"use strict";var n=r(18);const s=Object(n.a)({}).properties()(function({properties:e}){const{errors:t}=e(),r=Object.keys(t);let s=[];for(let e=0;e<r.length;e++)s=[...s,...t[r[e]].map(t=>`${r[e]} ${t}`)];return Object(n.g)("ul",{classes:["error-messages"]},s.map(e=>Object(n.g)("li",null,e)))});t.a=s},function(e,t,r){"use strict";var n=r(18),s=r(32);const i=Object(n.a)({cache:s.a,invalidator:n.e})(({middleware:{invalidator:e,cache:t}})=>({getOrSet(e,r){let n=t.get(e);if(n||this.set(e,r),(n=t.get(e))&&"pending"!==n.status)return n.value},get(e){const r=t.get(e);if(r&&"pending"!==r.status)return r.value},set(r,n){if("function"==typeof n&&(n=n())&&"function"==typeof n.then)return t.set(r,{status:"pending",value:n}),void n.then(s=>{const i=t.get(r);i&&i.value===n&&(t.set(r,{status:"resolved",value:s}),e())});t.set(r,{status:"resolved",value:n}),e()},clear(){t.clear()}}));t.a=i},function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"a",function(){return p});var n=r(20),s=r(21),i=r(22),o=r(25);const a=Object(i.a)(({path:e,payload:{type:t,filter:r,page:n}})=>[Object(s.c)(e("feed","isLoading"),!0),Object(s.c)(e("feed","isLoaded"),!1),Object(s.c)(e("feed","category"),t),Object(s.c)(e("feed","filter"),r),Object(s.c)(e("feed","tagName"),"tag"===t?r:void 0),Object(s.c)(e("feed","page"),n),Object(s.c)(e("feed","items"),void 0)]),c=Object(i.a)(async({get:e,path:t,payload:{type:r,page:n,filter:a}})=>{const c=e(t("session","token")),d=10*n;let l;switch(r){case"feed":l=`${o.a}/articles/feed?`;break;case"tag":l=`${o.a}/articles?tag=${a}&`;break;default:l=`${o.a}/articles/?`}const u=await fetch(`${l}limit=10&offset=${d}`,{headers:Object(i.b)(c)}),p=await u.json();return[Object(s.c)(t("feed","items"),p.articles),Object(s.c)(t("feed","total"),p.articlesCount),Object(s.c)(t("feed","offset"),d),Object(s.c)(t("feed","page"),n),Object(s.c)(t("feed","category"),r),Object(s.c)(t("feed","filter"),a),Object(s.c)(t("feed","isLoading"),!1),Object(s.c)(t("feed","isLoaded"),!0)]}),d=Object(i.a)(({path:e})=>[Object(s.c)(e("feed"),void 0)]),l=Object(i.a)(async({get:e,path:t,payload:{slug:r,favorited:n,type:a}})=>{const c=e(t("session","token")),d=await fetch(`${o.a}/articles/${r}/favorite`,{method:n?"delete":"post",headers:Object(i.b)(c)}),l=await d.json();let u=t("feed","items");"favorites"!==a&&"user"!==a||(u=t("profile","feed","items"));let p=e(u);const g=function(e,t){let r=-1;for(let n=0;n<e.length;n++)if(e[n].slug===t){r=n;break}return r}(p,r);return(p=[...p])[g]=l.article,-1!==g?"favorites"===a?(p.splice(g,1),[Object(s.c)(u,p)]):(p[g]=l.article,[Object(s.c)(u,p)]):[]}),u=Object(n.b)("fetch-feed",[a,c]),p=(Object(n.b)("clear-feed",[d]),Object(n.b)("fav-feed-article",[l]))},,function(e,t,r){"use strict";var n=r(0);r(1);let s=n.default.Set;t.a=s},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(18),s=r(28),i=r(32),o=r(23),a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]])}return r};const c=Object(n.a)({injector:s.a,diffProperty:n.c,cache:i.a,invalidator:n.e}).properties()(function({middleware:{diffProperty:e,injector:t,cache:r,invalidator:s},properties:i,children:c}){const{to:d,routerKey:l="router",params:u}=i();let p=i(),{activeClasses:g,classes:f=[]}=p,h=a(p,["activeClasses","classes"]);e("to",(e,n)=>{if(e.to!==n.to){const e=t.get(l),n=r.get("handle");if(n&&n.destroy(),e){const t=e.on("outlet",({outlet:e})=>{e.id===d&&s()});r.set("handle",t)}s()}});const b=t.get(l);if(b){if(!r.get("handle")){const e=b.on("outlet",({outlet:e})=>{e.id===d&&s()});r.set("handle",e)}const e=b.getOutlet(d),t=e&&function(e={},t={}){return Object.keys(e).every(r=>e[r]===t[r])}(u,e.params);f=Array.isArray(f)?f:[f],t&&(f=[...f,...g]),h=Object.assign({},h,{classes:f})}return Object(n.i)(o.b,h,c())});t.b=c},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(18);const s=Object(n.a)({}).properties()(function({properties:e}){const{total:t,currentPage:r,fetchFeed:s}=e();let i=[];for(let e=0;e<Math.ceil(t/10);e++){const t=r===e,o=t=>{t.preventDefault(),e!==r&&s(e)};i.push(Object(n.g)("li",{key:e,classes:["page-item",t&&"active"]},Object(n.g)("a",{href:"",onclick:o,classes:["page-link"]},`${e+1}`)))}return Object(n.g)("nav",null,Object(n.g)("ul",{classes:["pagination"]},i))})},function(e,t,r){"use strict";var n=r(31),s=r(37);r(1);function i(e){return function(t,...r){return e.apply(t,r)}}let o,a,c,d,l,u,p;o=Array.from,a=Array.of,c=i(Array.prototype.copyWithin),d=i(Array.prototype.fill),l=i(Array.prototype.find),u=i(Array.prototype.findIndex),p=i(Array.prototype.includes);var g;function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>h(e,t[r]));if(f(e)&&f(t)){const r=Object.keys(e).sort();return h(r,Object.keys(t).sort())&&r.every(r=>h(e[r],t[r]))}return e===t}function b(e,t){const r=y(t),n=y(e);if(Array.isArray(e)&&Array.isArray(t)){const r=function(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++)if(!h(e[n],t[n]))return n;return e.length!==t.length?r:-1}(e,t);return-1!==r?`Arrays differed at offset ${r}`:"Arrays are identical"}if(f(e)&&f(t)){const r=function(e,t){const r=o(new s.a([...Object.keys(e),...Object.keys(t)]).values());for(let n of r)if(!h(e[n],t[n]))return n}(e,t);if(r){return`Expected "${e[r]}" for object property ${r} but got "${t[r]}" instead`}return"Objects are identical"}return h(e,t)?"Values are identical":r===n?`Expected "${e}" but got "${t}" instead`:`Expected ${n} "${e}" but got ${r} "${t}" instead`}function y(e){return Array.isArray(e)?"array":typeof e}function m(e,t){if(e.op===g.ADD){const t={op:g.REMOVE,path:e.path};return[{op:g.TEST,path:e.path,value:e.value},t]}if(e.op===g.REPLACE){let r;return r=void 0===e.path.get(t)?{op:g.REMOVE,path:e.path}:{op:g.REPLACE,path:e.path,value:e.path.get(t)},[{op:g.TEST,path:e.path,value:e.value},r]}return[{op:g.ADD,path:e.path,value:e.path.get(t)}]}r.d(t,"a",function(){return g}),r.d(t,"b",function(){return O}),function(e){e.ADD="add",e.REMOVE="remove",e.REPLACE="replace",e.TEST="test"}(g||(g={}));class O{constructor(e){this._operations=Array.isArray(e)?e:[e]}apply(e){let t=[];return{object:this._operations.reduce((e,r)=>{let s;const i=Object(n.b)(r.path.segments,e);switch(r.op){case g.ADD:s=function(e,t){let r=parseInt(e.segment,10);return Array.isArray(e.target)&&!isNaN(r)?e.target.splice(r,0,t):e.target[e.segment]=t,e.object}(i,r.value);break;case g.REPLACE:s=function(e,t){let r=parseInt(e.segment,10);return Array.isArray(e.target)&&!isNaN(r)?e.target.splice(r,1,t):e.target[e.segment]=t,e.object}(i,r.value);break;case g.REMOVE:s=function(e){return Array.isArray(e.target)?e.target.splice(parseInt(e.segment,10),1):delete e.target[e.segment],e.object}(i);break;case g.TEST:const t=i.target[i.segment];if(!h(t,r.value)){const e=r.path.path;throw new Error(`Test operation failure at "${e}". ${b(r.value,t)}.`)}return e;default:throw new Error("Unknown operation")}return t=[...m(r,e),...t],s},e),undoOperations:t}}}},function(e,t,r){"use strict";var n=r(18),s=r(19),i=r(35),o=r(23);const a=Object(n.a)({}).properties()(function({properties:e}){const{favoriteArticle:t,article:r,article:{author:s,favorited:i,slug:a}}=e();let c=["btn","btn-outline-primary","btn-sm","pull-xs-right"];return i&&(c=["btn","btn-primary","btn-sm","pull-xs-right"]),Object(n.g)("div",{classes:["article-preview"]},Object(n.g)("div",{classes:["article-meta"]},Object(n.g)(o.a,{to:"user",params:{username:s.username}},Object(n.g)("img",{src:s.image})),Object(n.g)("div",{classes:["info"]},Object(n.g)(o.a,{classes:["author"],to:"user",params:{username:s.username}},s.username),Object(n.g)("span",{classes:["date"]},new Date(r.createdAt).toDateString())),Object(n.g)("button",{onclick:()=>{t()},classes:c},Object(n.g)("i",{classes:["ion-heart"]}),Object(n.g)("span",null,` ${r.favoritesCount}`))),Object(n.g)(o.a,{classes:["preview-link"],to:"article",params:{slug:a}},Object(n.g)("h1",null,r.title),Object(n.g)("p",null,r.description),Object(n.g)("span",null,"Read more...")))});const c=Object(n.a)({store:s.a}).properties()(function({middleware:{store:e},properties:t}){const{executor:r}=e,{articles:s,type:o}=t();return s.length?Object(n.g)("div",null,s.map(e=>Object(n.g)(a,{key:e.slug,article:e,favoriteArticle:()=>{r(i.a)({slug:e.slug,favorited:e.favorited,type:o})}}))):Object(n.g)("div",{classes:["article-preview"]},"No articles here, yet!")});t.a=c},,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(18),s=r(19),i=r(20),o=r(21),a=r(22),c=r(25);const d=Object(a.a)(({path:e,payload:{title:t}})=>[Object(o.c)(e("editor","title"),t)]),l=Object(a.a)(({path:e,payload:{description:t}})=>[Object(o.c)(e("editor","description"),t)]),u=Object(a.a)(({path:e,payload:{body:t}})=>[Object(o.c)(e("editor","body"),t)]),p=Object(a.a)(({path:e,payload:{tag:t}})=>[Object(o.c)(e("editor","tag"),t)]),g=Object(a.a)(({get:e,at:t,path:r,payload:{tag:n}})=>{const s=(e(r("editor","tagList"))||[]).length;return[Object(o.a)(t(r("editor","tagList"),s),n)]}),f=Object(a.a)(({path:e})=>[Object(o.c)(e("editor","tag"),"")]),h=Object(a.a)(({get:e,at:t,path:r,payload:{tag:n}})=>{const s=e(r("editor","tagList")).indexOf(n);return-1!==s?[Object(o.b)(t(r("editor","tagList"),s))]:[]}),b=Object(a.a)(async({path:e,payload:{slug:t}})=>{const r=await fetch(`${c.a}/articles/${t}`),n=await r.json();return[Object(o.c)(e("editor"),n.article)]}),y=Object(a.a)(({path:e})=>[Object(o.c)(e("editor"),{})]),m=Object(a.a)(({path:e})=>[Object(o.c)(e("editor","isLoading"),!0)]),O=Object(a.a)(async({get:e,path:t})=>{const r=e(t("session","token")),n=e(t("editor","slug")),s={article:e(t("editor"))},i=n?`${c.a}/articles/${n}`:`${c.a}/articles`,d=await fetch(i,{method:n?"put":"post",headers:Object(a.b)(r),body:JSON.stringify(s)}),l=await d.json();return d.ok?[Object(o.c)(t("article",n,"item"),l.article),Object(o.c)(t("article",n,"isLoading"),!0),Object(o.c)(t("editor"),void 0)]:[Object(o.c)(t("editor","isLoading"),!1),Object(o.c)(t("errors"),l.errors)]}),j=Object(i.b)("title-input",[d]),v=Object(i.b)("desc-input",[l]),w=Object(i.b)("body-input",[u]),_=Object(i.b)("tag-input",[p]),x=Object(i.b)("add-tag",[g,f]),P=Object(i.b)("remove-tag",[h]),k=Object(i.b)("get-editor-article",[b]),A=Object(i.b)("publish-article",[m,O]);Object(i.b)("clear-editor",[y]);var I=r(33);r.d(t,"Editor",function(){return N});const N=Object(n.a)({store:s.a}).properties()(function({middleware:{store:e},properties:t}){const{get:r,path:s,executor:i}=e,o=r(s("editor"))||{},a=r(s("errors")),{slug:c}=t();return!c||o&&(o.slug===c||o.isLoading)?Object(n.g)("div",{classes:["editor-page"]},Object(n.g)("div",{classes:["container","page"]},Object(n.g)("div",{classes:["row"]},Object(n.g)("div",{classes:["col-md-10","offset-md-1","col-xs-12"]},a&&Object(n.g)(I.a,{errors:a}),Object(n.g)("form",null,Object(n.g)("fieldset",null,Object(n.g)("fieldset",{classes:["form-group"]},Object(n.g)("input",{value:o.title,oninput:e=>{const t=e.target;i(j)({title:t.value})},placeholder:"Article Title",classes:["form-control","form-control-lg"]})),Object(n.g)("fieldset",{classes:["form-group"]},Object(n.g)("input",{value:o.description,oninput:e=>{const t=e.target;i(v)({description:t.value})},placeholder:"What's this article about?",classes:["form-control","form-control-lg"]})),Object(n.g)("fieldset",{classes:["form-group"]},Object(n.g)("textarea",{value:o.body,oninput:e=>{const t=e.target;i(w)({body:t.value})},rows:8,placeholder:"Write your article (in markdown)",classes:["form-control"]})),Object(n.g)("fieldset",{classes:["form-group"]},Object(n.g)("input",{onkeydown:e=>{if(13===e.keyCode){e.preventDefault();const t=e.target;i(x)({tag:t.value})}},oninput:e=>{const t=e.target;i(_)({tag:t.value})},value:o.tag,placeholder:"Enter Tag",classes:["form-control"]}),Object(n.g)("div",{classes:["tag-list"]},o.tagList&&o.tagList.map(e=>Object(n.g)("span",{classes:["tag-default","tag-pill"]},Object(n.g)("i",{onclick:()=>{i(P)({tag:e})},classes:["ion-close-round"]}),e)))),Object(n.g)("button",{disabled:o.isLoaded&&o.isLoading,onclick:e=>{e.preventDefault(),i(A)({})},classes:["btn","btn-lg","pull-xs-right","btn-primary"]},"Publish Article"))))))):(i(k)({slug:c}),null)});t.default=N}]]);
//# sourceMappingURL=main.0a1760bc9329bcbcb62b.bundle.js.map