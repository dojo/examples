sudo: false
language: node_js
node_js:
- '6'
env:
  matrix:
  - PROJECT_DIR=todo-mvc
  - PROJECT_DIR=monster-cards
  - PROJECT_DIR=dojo-cli-example
  - PROJECT_DIR=auto-deploy
  global:
  - SAUCE_USERNAME=dojo2-ts-ci
  - SAUCE_ACCESS_KEY=e92610e3-834e-4bec-a3b5-6f7b9d874601
  - secure: UZlUKfHSk1XKkXQipkOlIrZCa+VXhPDOLGlB3ZIFsA2mIiKcEAXhG3kHsRWmb/kWk2KAHuWx7wfNgdnf0A99bd12X5zArsGQM6S34mx/fQGDJMv1U+j49T/pM35BSZg/91FKGna17NXhwpHiJFONceTZl4v8kZI8/b1Vh4y2q2ANYTWNzEVaW5o4cgVeqcHQvJdJOidK6YVTJlU83P+DJoymxCAfWGVIY5SYTWj6vh4GjGWzjScp/m2NIZd2kE4u3wS6uCFwgp3wQ5I6eEP3RFshzgqH3aFzHUe/OkoPms5vm+SdZ5dyY2b4vE9Z3aMceQbsgxso54DtIBOcCOoWfw6sZMYD0+GkcUvTAkeTJBRxXnz6SOoxXsXv0kJKyHWlL+vWtZHGkUsUkQfgSZKB0l62ejogS54z6OgqZmtsDodPsS/yckQs8zMb3WmI2T6dT9afNVncSR31GufWKhc1u1Ry5t5g9bZg8cbKkkqXmwCtRUv94t1tox1NNy2qQLfR1hrj+v9MvSWeCAGFArKylTTvH7TRG/8KwBK25G5B4x7RopdQss1nWaLwveasU9ZWxlv6MabRnstHIX0vScmJUgc47p6aIem2e+EvGB068+nD0i0w2BN1d14QqQH2IjLPJIKXtyCca3o2+4zORCOE1+8JiCGgWpJTtg/JpDxbJlg=
matrix:
  fast_finish: true
  allow_failures:
  - env: PROJECT_DIR=auto-deploy
install:
- ./scripts/install.sh
script:
- ./scripts/build.sh
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/gh-pages-publish.sh
  on:
    branch: master
notifications:
  slack:
    on_success: change
    secure: dGgIjraexaAEkLBSqC0zKMV+FBknioKBY4I52OwBNIJCBK+OU+lCiSqOmnA1ND0ojCfKMPj5IQkcjXfGUUEtHQXrK5QzMJ6ED2Wxew7x08BsgDS/l6oWIoko654LJ7ZBOhWwy7Isg+QMiUFF2axlIbiVdBgwWPu6XZXTkYGnDIhAeDM1l9oJ++daWTlZNwDrMTHKmiXXad9+aWxvgsruZj2wpODtZYf3QSqUThGgV8TLixKPJnmnwZVV8ydIAlskzWCttENqM3GfYYsL7vK4fxjjbDDZEH97MOP/XLwc7/y4iGGmr6MbaxphUDkGwy7R/cPdyV5hSG2rduq+I9q5dukuH4G6z3/oMSsgxEVm1A7tmT8QaB25B55Rm3KUSF0en2+q6Ni2Qvjf7qS2EGYbfuoK1j4PL/ixLN2B1eWKMpm3EEBx5Nml5t9hYSz4l8TvCYNo3P0c3rHQFNaThgpv8KwOYKhr1JD7OXnq8Sdh/nEbqhVdr7LGx8EfYRK+Ic3cfA6Y1TO7XmtnDgWFsEM9ENv3G4YkjJ5YtkCpQfSDaNsz6vIniQimf3gUXfH2XynGdJm6rQedSrusdKBKx7ll9OwTTamciuHebwiI9nXr6cvi3DhJ4YWzvRtt05Hopf+FH+VKyvsob5zZApMfixyontlqSaOUVu+TT6yLysEOODA=
